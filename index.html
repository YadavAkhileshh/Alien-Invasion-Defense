<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Akhilesh Yadav" />
    <link rel="icon" href="favicon.png" type="image/x-icon" />
    <title>Alien Invasion Defense</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link rel="stylesheet" href="Alien.css" />
    <audio id="backgroundMusic" src="background-music.wav" loop></audio>
    <audio id="hitSound" src="hit-sound.wav"></audio>
    <audio id="healthBoostSound" src="health-boost-sound.m4a"></audio>
    <audio id="speedBoostSound" src="speed-boost.m4a"></audio>
    <audio id="shieldSound" src="shield.m4a"></audio>
  </head>
  <body>
    <div id="gameContainer">
      <canvas id="gameCanvas"></canvas>
      <div class="gameProgress">
        <div id="warningMessage" class="hidden">Only 1 life remaining!</div>
        <div id="liveScore">LIVE SCORE: <span id="score">0</span></div>
        <div id="liveLife">LIVE LIFE: <span id="lives">3</span></div>
      </div>
      <div id="gameControls">
        <div class="controlGroup">
          <label for="levelSelect" id="difficulty">Select Difficulty:</label>
          <select id="levelSelect">
            <option value="easy">Easy</option>
            <option value="medium" selected>Medium</option>
            <option value="hard">Hard</option>
          </select>
        </div>
        <div class="controlGroup">
          <span id="displayName" class="playerName"></span>
        </div>
        <div class="controlGroup">
          <button id="startButton">
            <i class="fas fa-play"></i> Start Game
          </button>
          <button id="pauseButton" style="display: none">
            <i class="fas fa-play"></i> Game paused
          </button>
          <button id="restartButton" style="display: none">
            <i class="fas fa-redo"></i> Play Again
          </button>
        </div>
      </div>
    </div>

    <header>
      <a class="navbar-brand" href="#">
        <img src="a.png" class="logo" />
      </a>
    </header>

    <!-- Snowflake effect -->
    <div class="snowflakes">
      <div class="snowflake"></div>
      <div class="snowflake"></div>
      <div class="snowflake"></div>
      <!-- Add more snowflake divs if needed -->
    </div>
<div id="header">
    <div class="sidebar">
        <div id="liveScore">LIVE SCORE: <span id="score">0</span></div>
        <div id="liveLife">LIVE LIFE: <span id="lives">3</span></div>
        <div id="gameInfo">
            <i class="fas fa-star"></i> <span id="score">0</span> | 
            <i class="fas fa-level-up-alt"></i> <span id="level">1</span> | 
            <i class="fas fa-heart"></i> <span id="lives">3</span>
            <span id="healthBoostTimer"></span>
            <span id="speedBoostTimer"></span>
            <span id="shieldTimer"></span>
        </div>
    </div>
</div>

        <div id="gameInfo">
          <i class="fas fa-star"></i> <span id="score">0</span> |
          <i class="fas fa-level-up-alt"></i> <span id="level">1</span> |
          <i class="fas fa-heart"></i> <span id="lives">3</span>
          <span id="healthBoostTimer"></span>
          <span id="speedBoostTimer"></span>
          <span id="shieldTimer"></span>
        </div>
      </div>

      <div id="instructions">
        <div>
          <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox">
              <input type="checkbox" id="checkbox" />
              <div class="slider"></div>
            </label>
            <span id="mode-label">Light Mode</span>
          </div>
          <div id="volumeControl">
            <div id="muteControl">
              <button id="muteButton" class="styled-button">
                <i class="fas fa-volume-up"></i> Music Volume
              </button>
            </div>
            <input
              type="range"
              id="volumeSlider"
              min="0"
              max="1"
              step="0.1"
              value="0.5"
            />
          </div>
        </div>

        <h2 id="instructionsTitle">Player Instructions</h2>
        <h2 id="instructionsTitle">
          <a style="color: black" href="./signup/signup.html"
            >SignUp/Register</a
          >
        </h2>
        <div id="instructionsList">
          <p>
            <i class="fas fa-arrow-left"></i> Use Left/Right Arrow keys or swipe
            to move
          </p>
          <p><i class="fas fa-bolt"></i> Tap or press Spacebar to shoot</p>
          <p><i class="fas fa-fighter-jet"></i> Destroy red alien ships</p>
          <p>
            <i class="fas fa-shield-alt"></i> Avoid aliens reaching the bottom
          </p>
          <p><i class="fas fa-clock"></i> Survive as long as possible!</p>
          <p>
            <i class="fas fa-plus-circle"></i> Collect Health Boost power-ups
          </p>
          <p>
            <i class="fas fa-tachometer-alt"></i> Collect Speed Boost power-ups
          </p>
          <p><i class="fas fa-shield-alt"></i> Collect Shield power-ups</p>
          <p>
            <i class="fas fa-shield-alt"></i
            ><a href="./rules.html">explore more</a>
          </p>
        </div>
      </div>
    </div>

    <div id="gameOver">
      <i class="fas fa-exclamation-circle"></i> Game Over<br /><span
        id="finalScore"
      ></span>
    </div>

    <div id="highScore">High Score: <span id="highScoreValue"></span></div>

    <!-- Player name display -->
    <div class="nameofplayer" id="displayName">
      <h1></h1>
    </div>

    <!-- Control buttons for mobile -->
    <div class="controls">
      <button id="leftButton">‚Üê</button>
      <button id="fireButton">üî´</button>
      <button id="rightButton">‚Üí</button>
    </div>

    <script src="Alien.js"></script>
    <script src="darkMode.js"></script>

    <script>
      // Display player's name from local storage
      document.addEventListener("DOMContentLoaded", () => {
        let personData = localStorage.getItem("signupData");
        if (personData) {
          const person = JSON.parse(personData);
          const name = person.fullName;
          document.getElementById(
            "displayName"
          ).textContent = `Best of luck, ${name}!`;
        } else {
          const defaultName = "Adventurer";
          document.getElementById(
            "displayName"
          ).textContent = `Best of luck, ${defaultName}!`;
        }
      });

      // Level selection handling
      const startButton = document.getElementById("startButton");
      const levelSelect = document.getElementById("levelSelect");

      startButton.addEventListener("click", () => {
        const selectedLevel = levelSelect.value;
        console.log("Game starting at level:", selectedLevel);
        startGame(selectedLevel);
      });

      function startGame(level) {
        switch (level) {
          case "easy":
            console.log("Easy mode");
            break;
          case "medium":
            console.log("Medium mode");
            break;
          case "hard":
            console.log("Hard mode");
            break;
          default:
            console.log("Unknown level");
        }
      }

      // Mute/Unmute functionality
      const muteButton = document.getElementById("muteButton");
      const backgroundMusic = document.getElementById("backgroundMusic");

      muteButton.addEventListener("click", () => {
        if (backgroundMusic.muted) {
          backgroundMusic.muted = false;
          muteButton.innerHTML = '<i class="fas fa-volume-mute"></i> Mute';
        } else {
          backgroundMusic.muted = true;
          muteButton.innerHTML = '<i class="fas fa-volume-up"></i> Unmute';
        }
      });
    </script>
  </body>
</html>
