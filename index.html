<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Akhilesh Yadav" />
    <link rel="icon" href="favicon.png" type="image/x-icon" />
    <title>Alien Invasion Defense</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link rel="stylesheet" href="Alien.css" />
    <link rel="stylesheet" href="welcome1.html" />
    <audio id="backgroundMusic" src="background-music.wav" loop></audio>
    <audio id="hitSound" src="hit-sound.wav"></audio>
    <audio id="gameOverSound" src="gameOver.wav"></audio>
    <audio id="healthBoostSound" src="health-boost-sound.m4a"></audio>
    <audio id="speedBoostSound" src="speed-boost.m4a"></audio>
    <audio id="shieldSound" src="shield.m4a"></audio>

    <style>
      #pauseResumeButton {
        background-color: #4caf50; /* Green background */
        border: none; /* Remove border */
        color: white; /* White text */
        padding: 10px 20px; /* Add some padding */
        text-align: center; /* Center text */
        text-decoration: none; /* Remove underline */
        display: inline-block; /* Display as inline-block */
        font-size: 16px; /* Increase font size */
        margin: 10px 2px; /* Add margin */
        cursor: pointer; /* Pointer cursor on hover */
        border-radius: 5px; /* Rounded corners */
        transition: background-color 0.3s; /* Transition effect */
      }

      /* Change background color on hover */
      #pauseResumeButton:hover {
        background-color: #45a049; /* Darker green on hover */
      }

      /* Change background color when paused */
      #pauseResumeButton.paused {
        background-color: #f44336; /* Red background when paused */
      }

      /* Change background color when resumed */
      #pauseResumeButton.resumed {
        background-color: #4caf50; /* Green background when resumed */
      }
    </style>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <style>
      .circle {
        height: 18px;
        width: 18px;
        border-radius: 24px;
        background-color: cyan;
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <div id="gameContainer">
      <canvas id="gameCanvas"></canvas>
      <div class="gameProgress">
        <div id="warningMessage" class="hidden">Only 1 life remaining!</div>
        <div id="liveScore">LIVE SCORE: <span id="score">0</span></div>
        <button id="pauseResumeButton">Pause</button>
        <div id="liveLife">LIVE LIFE: <span id="lives">3</span></div>
      </div>
      <div id="gameControls">
        <div class="controlGroup">
          <label for="levelSelect" id="difficulty">Select Difficulty:</label>
          <select id="levelSelect">
            <option value="easy">Easy</option>
            <option value="medium" selected>Medium</option>
            <option value="hard">Hard</option>
          </select>
        </div>
        <!-- Player name displayed here -->
        <div class="controlGroup">
          <span id="displayName" class="playerName"></span>
        </div>
        <div class="controlGroup">
          <button id="startButton">
            <i class="fas fa-play"></i> Start Game
          </button>
          <button id="pauseButton" style="display: none">
            <i class="fas fa-play"></i> Game paused
          </button>
          <button id="restartButton" style="display: none">
            <i class="fas fa-redo"></i> Play Again
          </button>
        </div>
      </div>
    </div>

    
    <header>
      <a class="navbar-brand" href="#">
       <!-- Add the logo image -->
      <img src="logo-updated.png" class="logo" />
      </a>
    </header>
    <canvas id="gameCanvas"></canvas>


    <div class="snowflake"></div>
    <!-- multiple snowflakes are included here -->
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>

    <div class="snowflake"></div>

    <!-- 20 circle elements -->
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>

    <div id="header">
     <div class="sidebar">
       <div id="liveScore">LIVE SCORE: <span id="score">0</span></div>
       <div id="liveLife">LIVE LIFE: <span id="lives">3</span></div>
       <div id="gameInfo">
          <i class="fas fa-star"></i> <span id="score">0</span> |
          <i class="fas fa-level-up-alt"></i> <span id="level">1</span> |
          <i class="fas fa-heart"></i> <span id="lives">3</span>
          <span id="healthBoostTimer"></span>
          <span id="speedBoostTimer"></span>
          <span id="shieldTimer"></span>
      </div>
    </div>

        <div id="gameInfo">
          <i class="fas fa-star"></i> <span id="score">0</span> |
          <i class="fas fa-level-up-alt"></i> <span id="level">1</span> |
          <i class="fas fa-heart"></i> <span id="lives">3</span>
          <!-- New span elements to display power-up timers -->
          <span id="healthBoostTimer"></span>
          <span id="speedBoostTimer"></span>
          <span id="shieldTimer"></span>
        </div>

        <div id="instructions">
          <div>
            <div class="theme-switch-wrapper">
              <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox" />
                <div class="slider"></div>
              </label>
              <span id="mode-label">Light Mode</span>
            </div>
            <div id="volumeControl">
              <div id="muteControl">
                <button id="muteButton" class="styled-button">
                  <i class="fas fa-volume-up"></i> Music Volume
                </button>
              </div>
              <input
                type="range"
                id="volumeSlider"
                min="0"
                max="1"
                step="0.1"
                value="0.5"
              />
            </div>
          </div>
        </div>

        <h2 class="primary-btn" id="instructionsTitle">Player Instructions</h2>
        <h2 class="primary-btn" id="signupButton">
          <a style="color: rgb(220, 214, 182)" href="./signup/signup.html"
            >SignUp/Register</a
          >
        </h2>
        <h2 class="primary-btn" id="logoutButton" style="display: none">
          <i class="fas fa-sign-out-alt"></i> Logout
        </h2>
        <div id="instructionsList">
          <p>
            <i class="fas fa-arrow-left"></i> Use Left/Right Arrow keys or swipe
            to move
          </p>
          <p><i class="fas fa-bolt"></i> Tap or press Spacebar to shoot</p>
          <p><i class="fas fa-fighter-jet"></i> Destroy red alien ships</p>
          <p>
            <i class="fas fa-shield-alt"></i> Avoid aliens reaching the bottom
          </p>
          <p><i class="fas fa-clock"></i> Survive as long as possible!</p>
          <p>
            <i class="fas fa-plus-circle"></i> Collect Health Boost power-ups
          </p>
          <p>
            <i class="fas fa-tachometer-alt"></i> Collect Speed Boost power-ups
          </p>
          <p><i class="fas fa-shield-alt"></i> Collect Shield power-ups</p>
          <p>
            <i class="fas fa-shield-alt"></i
            ><a href="./rules.html">explore more</a>
          </p>
        </div>
      </div>
    </div>

    <div id="gameOver">
      <i class="fas fa-exclamation-circle"></i> Game Over<br /><span
        id="finalScore"
      ></span>
    </div>

    <div id="highScore">High Score: <span id="highScoreValue"></span></div>

    <div class="nameofplayer" id="displayName">
      <h1></h1>
    </div>

    <div class="controls">
      <button id="leftButton">‚Üê</button>
      <button id="fireButton">üî´</button>
      <button id="rightButton">‚Üí</button>
    </div>

    <footer>
      <div id="bottomRatingSystem">
        <h3>Enjoyed the game? Rate us!</h3>
        <div class="stars">
          <i class="far fa-star" data-rating="1"></i>
          <i class="far fa-star" data-rating="2"></i>
          <i class="far fa-star" data-rating="3"></i>
          <i class="far fa-star" data-rating="4"></i>
          <i class="far fa-star" data-rating="5"></i>
        </div>
        <p id="bottomRatingMessage"></p>
      </div>
      <button id="rateButton" class="styled-button">Rate Me</button>

      
    </footer>

    <!-- Add this modal div for the rating popup -->
    <div id="ratingModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Rate Our Game</h2>
        <div id="ratingStars" class="stars">
          <i class="far fa-star" data-rating="1"></i>
          <i class="far fa-star" data-rating="2"></i>
          <i class="far fa-star" data-rating="3"></i>
          <i class="far fa-star" data-rating="4"></i>
          <i class="far fa-star" data-rating="5"></i>
        </div>
        <p id="ratingMessage"></p>
        <textarea
          id="experienceInput"
          placeholder="Please share your experience"
          style="display: none"
        ></textarea>
        <button id="submitRating" style="display: none">Submit Rating</button>
      </div>
    </div>

    <script src="Alien.js"></script>
    <script src="darkMode.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        let personData = localStorage.getItem("signupData");
        if (personData) {
          const person = JSON.parse(personData);
          const name = person.fullName;
          document.getElementById(
            "displayName"
          ).textContent = `Best of luck, ${name}!`;
        } else {
          const defaultName = "Adventurer";
          document.getElementById(
            "displayName"
          ).textContent = `Best of luck, ${defaultName}!`;
        }
      });

      const muteButton = document.getElementById("muteButton");
      muteButton.addEventListener("click", () => {
        if (backgroundMusic.muted) {
          backgroundMusic.muted = false;
          muteButton.innerHTML = '<i class="fas fa-volume-mute"></i> Mute';
        } else {
          backgroundMusic.muted = true;
          muteButton.innerHTML = '<i class="fas fa-volume-up"></i> Unmute';
        }
      });

      const startButton = document.getElementById("startButton");
      const levelSelect = document.getElementById("levelSelect");
      startButton.addEventListener("click", () => {
        const selectedLevel = levelSelect.value;
        console.log("Game starting at level:", selectedLevel);
        startGame(selectedLevel);
      });

      function startGame(level) {
        // Game starting logic based on level
      }

      document.addEventListener("DOMContentLoaded", function () {
        const rateButton = document.getElementById("rateButton");
        const modal = document.getElementById("ratingModal");
        const closeBtn = document.getElementsByClassName("close")[0];
        const ratingStars = document.querySelectorAll("#ratingStars i");
        const ratingMessage = document.getElementById("ratingMessage");
        const experienceInput = document.getElementById("experienceInput");
        const submitRating = document.getElementById("submitRating");
        let currentRating = 0;

        rateButton.onclick = function () {
          modal.style.display = "block";
        };

        closeBtn.onclick = function () {
          modal.style.display = "none";
          resetRating();
        };

        window.onclick = function (event) {
          if (event.target == modal) {
            modal.style.display = "none";
            resetRating();
          }
        };

        ratingStars.forEach((star) => {
          star.addEventListener("click", () => {
            currentRating = star.getAttribute("data-rating");
            updateStars(currentRating);
            ratingMessage.textContent = `You've selected ${currentRating} star${
              currentRating > 1 ? "s" : ""
            }. Please share your experience!`;
            experienceInput.style.display = "block";
            submitRating.style.display = "block";
          });

          star.addEventListener("mouseover", () => {
            const hoverRating = star.getAttribute("data-rating");
            updateStars(hoverRating);
          });

          star.addEventListener("mouseout", () => {
            updateStars(currentRating);
          });
        });

        submitRating.addEventListener("click", () => {
          const experience = experienceInput.value.trim();
          if (experience) {
            // Here you would typically send the rating and experience to your server
            console.log(`Rating: ${currentRating}, Experience: ${experience}`);
            ratingMessage.textContent = "Thank you for your feedback!";
            experienceInput.style.display = "none";
            submitRating.style.display = "none";
            // Optionally, close the modal after a short delay
            setTimeout(() => {
              modal.style.display = "none";
              resetRating();
            }, 2000);
          } else {
            ratingMessage.textContent =
              "Please share your experience before submitting.";
          }
        });

        function updateStars(rating) {
          ratingStars.forEach((star) => {
            const starRating = star.getAttribute("data-rating");
            if (starRating <= rating) {
              star.classList.remove("far");
              star.classList.add("fas");
            } else {
              star.classList.remove("fas");
              star.classList.add("far");
            }
          });
        }

        function resetRating() {
          currentRating = 0;
          updateStars(0);
          ratingMessage.textContent = "";
          experienceInput.value = "";
          experienceInput.style.display = "none";
          submitRating.style.display = "none";
        }
      });
    </script>
    <script>
      const coords = { x: 0, y: 0 };
      const circles = document.querySelectorAll(".circle");

      // Assign initial colors to the circles
      circles.forEach(function (circle) {
        circle.x = 0;
        circle.y = 0;
      });

      window.addEventListener("mousemove", function (e) {
        coords.x = e.clientX;
        coords.y = e.clientY;
      });

      function animateCircles() {
        let x = coords.x;
        let y = coords.y;

        circles.forEach(function (circle, index) {
          circle.style.left = x - 12 + "px";
          circle.style.top = y - 12 + "px";
          circle.style.scale = (circles.length - index) / circles.length;

          circle.x = x;
          circle.y = y;

          const nextCircle = circles[index + 1] || circles[0];
          x += (nextCircle.x - x) * 0.3;
          y += (nextCircle.y - y) * 0.3;
        });

        requestAnimationFrame(animateCircles);
      }

      animateCircles();
    </script>


    

    <!-- The Copyright Authenticator -->
    <div class="alienid-footer">
        <p>&copy; <span id="alienid-year"></span> AlienID. All Rights Reserved.</p>
        <p class="alienid-auth">Authenticated by AlienID</p>
      </div>
      
      <script>
        document.getElementById("alienid-year").textContent = new Date().getFullYear();
      </script>
  </body>
</html>
